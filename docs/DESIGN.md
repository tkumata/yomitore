# DESIGN

## 評価結果ダイアログ余白追加

- 画面全体に対して上下左右2セルの余白を確保するため、全体領域から内側に縮めた利用可能領域を導入する
- ダイアログのサイズと位置は利用可能領域を基準に計算する
- 最小サイズ定数は維持しつつ、利用可能領域を超える場合は利用可能領域に合わせて縮める
- 既存の評価結果ダイアログのみを対象とし、他の画面やオーバーレイは変更しない

## ペット機能

- `TrainingStats` 構造体に `Pet` 構造体を追加し、レベルと経験値を管理する
- トレーニング合格時に経験値を加算し、閾値（5回）を超えたらレベルアップさせる
- 統計データ読み込み時（アプリ起動時等）に、最終トレーニング日時と現在日時を比較し、3日以上経過していればレベルダウンさせる
- レポート画面(`reports.rs`)の右側にペットの ASCII アートを表示する
- ASCII アートはレベルごとに変化させる（例: 卵 -> 幼体 -> 成体）

## テスト導入

- `ApiClient` の実装をトレイトで抽象化し、本番実装とテスト実装を差し替え可能にする
- テスト実装は固定の評価結果文字列を返す（合格/不合格/壊れた形式）
- 評価結果のパースと合否判定は純粋関数として分離し、ユニットテストで検証する
- テストはモジュール名ベースで絞り込み実行できる構成にする
- 評価結果パースは8行必須・順序自由で解釈し、数値は 1〜5 のみ許可、壊れた形式は Err とする
- 評価結果の表示は固定順とし、数値は 1〜5 をそのまま表示する
- パース失敗時は評価結果オーバーレイにエラーメッセージを表示する
- 評価結果の余分な行は無視し、先頭の箇条書き記号が異なっていても解釈する
